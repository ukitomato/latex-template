\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{iplab}[2020/3/03 v1.0]
\RequirePackage{color}

\newif\ifDRAFT
\DRAFTfalse
\newif\ifJAPANESE
\JAPANESEfalse
\newif\ifENGLISH
\ENGLISHfalse
\newif\ifANNOT
\ANNOTfalse

\DeclareOption{draft}{
	\DRAFTtrue
}
\DeclareOption{japanese}{
	\JAPANESEtrue
}
\DeclareOption{english}{
	\ENGLISHtrue
}
\DeclareOption{annot}{
	\ANNOTtrue
}
\DeclareOption{publish}{
	\ENGLISHfalse
	\JAPANESEfalse
	\DRAFTfalse
}
\ProcessOptions\relax

\def\TODO#1{\ifDRAFT\textcolor[rgb]{0,0,1}{@TODO #1}\else \fi}
\def\CHECK#1{\ifDRAFT\ifANNOT\textcolor[rgb]{1,0.5,0}{@CHECK #1}\else\textcolor[rgb]{1,0.5,0}{#1}\fi\else #1\fi}
\def\FIXME#1{\ifDRAFT\ifANNOT\textcolor[rgb]{1,0,0}{@FIXME #1}\else\textcolor[rgb]{1,0,0}{#1}\fi\else #1\fi}
\def\FIXED#1#2{\ifDRAFT\ifANNOT @FIXED \textcolor[rgb]{1,0,0}{#1} → \textcolor[rgb]{0,0.8,0}{#2}\else [\textcolor[rgb]{1,0,0}{#1}→\textcolor[rgb]{0,0.8,0}{#2}]\fi\else #2 \fi}

\newcommand{\J}[1]{
	\ifDRAFT\ifJAPANESE\textcolor[gray]{0.5}{#1}\par\else\fi
	\else 
	\fi
}

\newcommand{\E}[1]{
	\ifDRAFT\ifENGLISH\textcolor[gray]{0.5}{#1}\par\else\fi
	\else 
	\fi
}
\endinput
